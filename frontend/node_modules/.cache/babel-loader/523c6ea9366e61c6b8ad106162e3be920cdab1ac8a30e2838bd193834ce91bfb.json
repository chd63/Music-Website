{"ast":null,"code":"var _jsxFileName = \"/home/dev/fall2024/cs312/musicWebsite/frontend/src/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext({\n  authToken: null,\n  id: null,\n  login: () => {},\n  logout: () => {}\n});\nconst AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [authToken, setAuthToken] = useState(null);\n  const [id, setId] = useState(null);\n  const ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\n  const login = async (username, password) => {\n    console.log(\"ENDPOINT = \" + ENDPOINT);\n    try {\n      let response = await axios.post(ENDPOINT + \"/api/auth/login\", {\n        username,\n        password\n      });\n      if (response.status === 200) {\n        setAuthToken(response.data.token);\n        setId(response.data.id);\n      }\n      console.log(\"Login status: \" + response.status);\n      return response;\n    } catch (error) {\n      console.log(\"Error logging in:\", error);\n      return null;\n    }\n  };\n  const logout = async () => {\n    setAuthToken(null);\n    setId(null);\n  };\n  const value = {\n    authToken,\n    id,\n    login,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthProvider, \"elO2SThJYtcX6H7QXZ73WOfSXRY=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport default AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","axios","jsxDEV","_jsxDEV","AuthContext","authToken","id","login","logout","AuthProvider","children","_s","setAuthToken","setId","ENDPOINT","process","env","REACT_APP_API_ENDPOINT","username","password","console","log","response","post","status","data","token","error","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","$RefreshReg$"],"sources":["/home/dev/fall2024/cs312/musicWebsite/frontend/src/AuthContext.js"],"sourcesContent":["import React, {createContext, useContext, useState} from 'react';\nimport axios from \"axios\";\n\nconst AuthContext = createContext({\n    authToken : null,\n    id : null,\n    login : () => {},\n    logout : () => {}\n});\n\nconst AuthProvider = ({children}) => {\n    const [authToken, setAuthToken] = useState(null);\n    const [id, setId] = useState(null);\n    const ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\n\n    const login = async (username, password) => {\n        console.log(\"ENDPOINT = \" + ENDPOINT);\n        try {\n            let response = await axios.post(ENDPOINT + \"/api/auth/login\", {username, password});\n\n            if (response.status === 200) {\n                setAuthToken(response.data.token);\n                setId(response.data.id);\n            }\n\n            console.log(\"Login status: \" + response.status);\n\n            return response;\n        } catch (error) {\n            console.log(\"Error logging in:\", error);\n            return null;\n        }\n    }\n\n    const logout = async () => {\n        setAuthToken(null);\n        setId(null);\n    }\n\n    const value = {\n        authToken,\n        id,\n        login,\n        logout\n    }\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport default AuthProvider;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAO,OAAO;AAChE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,WAAW,gBAAGN,aAAa,CAAC;EAC9BO,SAAS,EAAG,IAAI;EAChBC,EAAE,EAAG,IAAI;EACTC,KAAK,EAAGA,CAAA,KAAM,CAAC,CAAC;EAChBC,MAAM,EAAGA,CAAA,KAAM,CAAC;AACpB,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACjC,MAAM,CAACN,SAAS,EAAEO,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACM,EAAE,EAAEO,KAAK,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAClC,MAAMc,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;EAEnD,MAAMV,KAAK,GAAG,MAAAA,CAAOW,QAAQ,EAAEC,QAAQ,KAAK;IACxCC,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGP,QAAQ,CAAC;IACrC,IAAI;MACA,IAAIQ,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAACT,QAAQ,GAAG,iBAAiB,EAAE;QAACI,QAAQ;QAAEC;MAAQ,CAAC,CAAC;MAEnF,IAAIG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QACzBZ,YAAY,CAACU,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;QACjCb,KAAK,CAACS,QAAQ,CAACG,IAAI,CAACnB,EAAE,CAAC;MAC3B;MAEAc,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAAGC,QAAQ,CAACE,MAAM,CAAC;MAE/C,OAAOF,QAAQ;IACnB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZP,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEM,KAAK,CAAC;MACvC,OAAO,IAAI;IACf;EACJ,CAAC;EAED,MAAMnB,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvBI,YAAY,CAAC,IAAI,CAAC;IAClBC,KAAK,CAAC,IAAI,CAAC;EACf,CAAC;EAED,MAAMe,KAAK,GAAG;IACVvB,SAAS;IACTC,EAAE;IACFC,KAAK;IACLC;EACJ,CAAC;EAED,oBACIL,OAAA,CAACC,WAAW,CAACyB,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAlB,QAAA,EAC9BA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B,CAAC;AAAAtB,EAAA,CAzCKF,YAAY;AAAAyB,EAAA,GAAZzB,YAAY;AA2ClB,OAAO,MAAM0B,OAAO,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMrC,UAAU,CAACK,WAAW,CAAC;AAAA;AAACgC,GAAA,CAAxCD,OAAO;AAEpB,eAAe1B,YAAY;AAAC,IAAAyB,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}